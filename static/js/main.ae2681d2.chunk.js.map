{"version":3,"sources":["FeedSummary.js","Episode.js","TextEntry.js","Browser.js","PlayingInfo.js","Player.js","PlayingImage.js","Settings.js","utils.js","Dashboard.js","Signin.js","index.js"],"names":["FeedSummary","feed","this","props","className","onClick","src","meta","imageURL","alt","title","description","episodes","length","moment","time","fromNow","pubDate","delete","bind","e","stopPropagation","Component","Episode","episode","play","backupImage","format","TextEntry","state","entered","defaultValue","handleKey","type","value","onChange","setState","target","onKeyDown","placeholder","ref","input","key","callback","returnFocus","focus","Browser","selected","search","searchTerm","toHome","logout","settings","style","feeds","data","refresh","inner","objects","Object","keys","flatMap","url","map","episode_title","episode_description","fuzzysort","go","limit","threshold","result","obj","deleteUrl","addFeed","predicate","color","PlayingInfo","playing","tags","dangerouslySetInnerHTML","__html","tag","i","seek","text","size","deleteTag","addTag","tagentry","dashboard","Player","seekBackwards","seekForwards","audioEl","player","pause","timestamp","min","currentTime","max","duration","step","autoPlay","onPlay","onPause","listenInterval","onListen","seekAmount","secs","hours","Math","floor","minutes","seconds","PlayingImage","image","Settings","overlayClassName","isOpen","open","close","corsProxy","toggle","options","fields","requestPodcast","proxy","a","podcastFeedParser","saveData","userSession","filename","putFile","JSON","stringify","loadData","getFile","then","content","parse","Dashboard","enterTag","settingsOpen","message","clearFeeds","playAudio","saveFeeds","tabIndex","handleSignOut","enclosure","setTime","getTags","preventDefault","Promise","all","feedUrl","guid","string","playingString","id","newTags","update","$splice","saveTags","$push","$unset","$merge","Date","now","Signin","handleSignIn","appConfig","AppConfig","UserSession","window","navigator","userLanguage","language","App","redirectToSignIn","signUserOut","location","origin","isUserSignedIn","isSignInPending","handlePendingSignIn","userData","history","replaceState","document","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ae2681d2.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport moment from 'moment';\nimport { XCircle } from 'react-feather';\n\nexport default class FeedSummary extends Component {\n\trender() {\n  \tlet feed = this.props.feed;\n\n  \treturn (\n  \t\t<div className=\"browser-item\" onClick={this.props.onClick}>\n  \t\t\t<img src={feed.meta.imageURL} alt=\"\"/>\n  \t\t\t<div className=\"feed-description\" >\n  \t\t\t\t<div>\n\t  \t\t\t\t<h2>{feed.meta.title}</h2>\n\t  \t\t\t\t<p>{feed.meta.description}</p>\n\t  \t\t\t\t<p>{feed.episodes.length} episodes</p>\n\t  \t\t\t\t<p>Last refreshed {moment(this.props.time).fromNow()}</p>\n            <p>Latest episode was {moment(feed.episodes[0].pubDate).fromNow()}</p>\n\t  \t\t\t</div>\n\t  \t\t\t<XCircle className=\"x-button\" onClick={this.delete.bind(this)}/>\n  \t\t\t</div>\n  \t\t</div>\n  \t);\n  }\n\n  delete(e) {\n  \te.stopPropagation();\n  \tthis.props.delete();\n  }\n}\n","import React, { Component } from 'react';\nimport moment from 'moment';\n\nexport default class Episode extends Component {\n  render() {\n    let episode = this.props.episode;\n\n    return (\n      <div className=\"browser-item\" onClick={this.props.play}>\n        <img src={episode.imageURL || this.props.backupImage} alt=\"\"/>\n        <div className=\"episode-description\">\n          <h2>{episode.title}</h2>\n          <p>{moment(episode.pubDate).format(\"L LT\")}</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class TextEntry extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {entered: props.defaultValue || ''};\n\n    this.handleKey = this.handleKey.bind(this);\n  }\n\n  render() {\n    return <input\n    \ttype=\"text\"\n    \tvalue={this.state.entered}\n    \tclassName={this.props.className}\n    \tonChange={(e) => this.setState({entered: e.target.value})}\n    \tonKeyDown={this.handleKey}\n    \tplaceholder = {this.props.placeholder}\n      ref={input => this.input = input}\n    />;\n  }\n\n  handleKey(e) {\n    e.stopPropagation();\n\n  \tif (e.key !== 'Enter') {\n  \t\treturn;\n  \t}\n\n  \tlet entered = this.state.entered;\n\n  \tif (entered) {\n  \t\tthis.setState({entered: ''});\n  \t\tthis.props.callback(entered);\n      this.props.returnFocus.focus();\n  \t}\n  }\n}\n","import React, { Component } from 'react';\n\nimport FeedSummary from './FeedSummary.js';\nimport Episode from './Episode.js';\nimport TextEntry from './TextEntry.js';\n\nimport fuzzysort from 'fuzzysort';\nimport { LogOut, Home, Settings, Search, RefreshCw, Plus } from 'react-feather';\n\nexport default class Browser extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n  \t\tselected: null,\n      search: false,\n      searchTerm: ''\n  \t};\n\n    this.toHome = this.toHome.bind(this);\n  }\n\n  render() {\n  \treturn (\n  \t\t<div className=\"browser\">\n        <div className=\"titlebar\">\n          <div className=\"titlebar-left\">\n            <LogOut onClick={this.props.logout} />\n            <Settings onClick={this.props.settings} />\n            <Home onClick={this.toHome} style={this.style(!this.state.selected && !this.state.search)} />\n            <Search onClick={() => this.setState({search: true})} style={this.style(this.state.search)} />\n            <h1>{this.state.selected ? this.props.feeds[this.state.selected].data.meta.title : 'Podcasts'}</h1>\n          </div>\n          <RefreshCw onClick={this.props.refresh} />\n        </div>\n  \t\t\t<div className=\"browser-content\">{this.inner()}</div>\n        <div className = \"browser-input\">\n          {this.state.search ? <Search/> : <Plus/>}\n          {this.input()}\n        </div>\n  \t\t</div>\n  \t);\n  }\n\n  inner() {\n    let feeds = this.props.feeds;\n    let selected = this.state.selected;\n\n    if (this.state.search && !this.state.searchTerm) {\n      return <h1 className=\"center\">No search term entered</h1>;\n    } else if (this.state.search) {\n      let objects = Object.keys(feeds)\n        .flatMap(url => feeds[url].data.episodes.map(episode => {\n          return {\n            episode, url,\n            episode_title: episode.title,\n            episode_description: episode.description\n          }\n        }));\n\n      let options = {\n        limit: 50,\n        keys: ['episode_title', 'episode_description'],\n        threshold: -500\n      };\n\n      return fuzzysort.go(this.state.searchTerm, objects, options)\n        .map(result => this.episode(result.obj.episode, result.obj.url));\n    }\n\n  \tif (selected) {\n  \t\tlet feed = feeds[selected].data;\n\n  \t\treturn feed.episodes.map(episode => this.episode(episode, selected));\n  \t} else {\n  \t\treturn Object.keys(feeds).map(url => {\n\t\t\t\treturn <FeedSummary\n\t\t\t\t\tkey={url}\n\t\t\t\t\tfeed={feeds[url].data}\n\t\t\t\t\ttime={feeds[url].time}\n\t\t\t\t\tdelete={() => this.props.deleteUrl(url)}\n\t\t\t\t\tonClick={() => this.setState({selected: url})}\n\t\t\t\t/>;\n\t\t\t});\n  \t}\n  }\n\n  episode(episode, url) {\n    return <Episode\n      episode={episode}\n      key={episode.title}\n      backupImage={this.props.feeds[url].data.meta.imageURL}\n      play={() => this.props.play(episode, url)}\n    />;\n  }\n\n  input() {\n    if (this.state.search) {\n      return <input\n        placeholder=\"Search\"\n        onChange={(e) => this.setState({searchTerm: e.target.value})}\n        onKeyDown={e => e.stopPropagation()}\n        value={this.state.searchTerm}\n      />;\n    } else {\n      return <TextEntry\n        placeholder=\"Add feed url\"\n        callback={this.props.addFeed}\n        returnFocus={this.props.returnFocus}\n      />;\n    }\n  }\n\n  setSearch(e) {\n    e.stopPropagation();\n    this.setState({searchTerm: e.target.value});\n  }\n\n  style(predicate) {\n    return predicate ? {color: 'white'} : null;\n  }\n\n  toHome() {\n    this.setState({selected: null, search: false});\n  }\n}\n","import React, { Component } from 'react';\nimport { XCircle, Plus } from 'react-feather';\n\nimport TextEntry from './TextEntry.js';\n\nexport default class PlayingInfo extends Component {\n  render() {\n  \tlet playing = this.props.playing;\n  \tlet tags = this.props.tags;\n\n    return (\n    \t<div className = \"playing\">\n        <div className=\"playing-info\">\n  \t      <h1>{playing?.episode.title || 'No Episode Selected'}</h1>\n  \t      <h2>{playing?.feed.meta.title}</h2>\n          <p dangerouslySetInnerHTML={{__html: playing?.episode.description}}></p>\n  \t      {playing ? <h2>Tags:</h2> : null}\n          <div className=\"tags\">\n            {\n              tags.map((tag, i) =>\n                <div\n                  key={i}\n                  className=\"tag\"\n                  onClick={() => this.props.seek(tag.time)}\n                >\n                  <p>{tag.text}</p>\n                  <XCircle\n                    size=\"12px\"\n                    onClick={() => this.props.deleteTag(i)}\n                  />\n                </div>\n              )\n            }\n          </div>\n  \t    </div>\n        <div className=\"tag-entry\">\n          <Plus/>\n          <TextEntry\n            placeholder=\"Enter Tag\"\n            className=\"tag-entry\"\n            callback={this.addTag}\n            ref={ref => this.tagentry = ref}\n            returnFocus={this.dashboard}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport ReactAudioPlayer from 'react-audio-player';\n\nimport { Rewind, FastForward, Pause, Play } from 'react-feather';\n\nexport default class Player extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // read only\n      time: 0,\n      playing: false\n    };\n\n    this.seek = this.seek.bind(this);\n    this.seekBackwards = this.seekBackwards.bind(this);\n    this.seekForwards = this.seekForwards.bind(this);\n  }\n\n  render() {\n    let audioEl = this.player?.audioEl;\n\n    return (\n      <div className=\"player\">\n        <Rewind onClick={this.seekBackwards}/>\n        {this.state.playing ?\n          <Pause onClick={() => audioEl?.pause()} /> :\n          <Play onClick={() => audioEl?.play()} />\n        }\n        <FastForward onClick={this.seekForwards}/>\n        <p>{timestamp(this.state.time)}</p>\n        <input\n          className=\"player-bar\"\n          type=\"range\"\n          min=\"0\"\n          value={audioEl?.currentTime || 0}\n          max={audioEl?.duration || 0}\n          step=\"any\"\n          onChange={(e) => this.seek(e.target.value)}\n        />\n        <p>{audioEl?.duration ? timestamp(audioEl.duration) : '--:--:--'}</p>\n        <ReactAudioPlayer\n          autoPlay\n          src={this.props.url}\n          ref={ref => this.player = ref}\n          onPlay={() => this.setState({playing: true})}\n          onPause={() => this.setState({playing: false})}\n          listenInterval={100}\n          onListen={time => this.setState({time})}\n        />\n      </div>\n    );\n  }\n\n  time() {\n    return this.player?.audioEl.currentTime || 0;\n  }\n\n  seek(time) {\n    let audioEl = this.player.audioEl;\n\n    if (!audioEl.src) {\n      return;\n    }\n\n    audioEl.currentTime = time;\n    this.setState({time});\n  }\n\n  seekBackwards() {\n    this.seek(this.player.audioEl.currentTime - this.props.settings.seekAmount)\n  }\n\n  seekForwards() {\n    this.seek(this.player.audioEl.currentTime + this.props.settings.seekAmount)\n  }\n\n  toggle() {\n    let audioEl = this.player.audioEl;\n\n    if (!audioEl.src) {\n      return;\n    }\n\n    if (this.state.playing) {\n      audioEl.pause();\n    } else {\n      audioEl.play();\n    }\n  }\n}\n\nfunction timestamp(secs) {\n  var hours   = Math.floor(secs / 3600);\n  var minutes = Math.floor((secs - (hours * 3600)) / 60);\n  var seconds = Math.floor(secs % 60);\n\n  if (hours   < 10) {hours   = \"0\"+hours;}\n  if (minutes < 10) {minutes = \"0\"+minutes;}\n  if (seconds < 10) {seconds = \"0\"+seconds;}\n\n  return `${hours}:${minutes}:${seconds}`;\n}\n","import React, { Component } from 'react';\n\nexport default class PlayingImage extends Component {\n  render() {\n    let playing = this.props.playing;\n\n    let image = playing?.episode.imageURL || playing?.feed.meta.imageURL;\n\n    return (\n      <div className = \"playing-image\">\n        {image ? <img src={image} alt=\"\"/> : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport ReactModal from 'react-modal';\nimport {ChevronLeft} from 'react-feather';\nimport TextEntry from './TextEntry.js';\n\nexport default class Settings extends Component {\n  render() {\n    let settings = this.props.settings;\n\n    return (\n      <ReactModal\n        className=\"settings-modal\"\n        overlayClassName=\"settings-modal-overlay\"\n        isOpen={this.props.open}\n      >\n        <div className=\"settings-title\">\n          <ChevronLeft onClick={this.props.close}/>\n          <h2>Settings</h2>\n        </div>\n        <div className=\"settings-content\">\n          <p>CORS Proxy Url:</p>\n          <TextEntry defaultValue={settings.corsProxy} />\n          <h3>Key Bindings</h3>\n          <p>Play/Pause</p>\n          <TextEntry defaultValue={settings.toggle} />\n        </div>\n      </ReactModal>\n    );\n  }\n}\n","import * as podcastFeedParser from 'podcast-feed-parser';\n\n// https://github.com/jbierfeldt/podcast-feed-parser/blob/master/index.js#L17\n// removed category and added guid\nconst options = {\n\tfields: {\n    meta: ['title', 'description', 'imageURL'],\n    episodes: ['title', 'description', 'imageURL', 'pubDate', 'enclosure', 'duration', 'guid']\n  }\n}\n\nexport async function requestPodcast(proxy, url) {\n\treturn podcastFeedParser.getPodcastFromURL(`${proxy}/${url}`, options);\n}\n\nexport function saveData(userSession, filename, data) {\n\tuserSession.putFile(filename, JSON.stringify(data), {});\n}\n\nexport async function loadData(userSession, filename) {\n\treturn userSession.getFile(filename, {})\n\t\t.then(content => JSON.parse(content) || {})\n}\n","import React, { Component } from 'react';\n\nimport Browser from './Browser.js';\nimport PlayingInfo from './PlayingInfo.js';\nimport Player from './Player.js';\nimport PlayingImage from './PlayingImage.js';\nimport Settings from './Settings.js';\n\nimport {requestPodcast, saveData, loadData} from './utils.js';\nimport update from 'immutability-helper';\n\nconst FEEDS_FILENAME = 'feeds.json';\nconst TAGS_FILENAME = 'tags.json';\n\nexport default class Dashboard extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n      // Main State\n      feeds: {},\n      tags: {},\n      settings: {\n        corsProxy: 'https://caster-cors-proxy.herokuapp.com',\n        toggle: 'p',\n        seekBackwards: ',',\n        seekForwards: '.',\n        enterTag: 't',\n        seekAmount: 5\n      },\n\n      // Other state\n\n      playing: null,\n      settingsOpen: false,\n      message: ''\n  \t};\n\n    this.addFeed = this.addFeed.bind(this);\n    this.clearFeeds = this.clearFeeds.bind(this);\n    this.playAudio = this.playAudio.bind(this);\n    this.deleteUrl = this.deleteUrl.bind(this);\n    this.addTag = this.addTag.bind(this);\n    this.refresh= this.refresh.bind(this);\n    this.deleteTag = this.deleteTag.bind(this);\n    this.handleKey = this.handleKey.bind(this);\n\n    this.saveFeeds = this.saveFeeds.bind(this);\n  }\n\n  render() {\n    const feeds = this.state.feeds;\n    const playing = this.state.playing;\n\n    return (\n      <div\n        className=\"dashboard\"\n        ref={ref => this.dashboard = ref}\n        onKeyDown={this.handleKey}\n        tabIndex=\"0\"\n      >\n        <Settings\n          open={this.state.settingsOpen}\n          settings={this.state.settings}\n          close={() => this.setState({settingsOpen: false})}\n        />\n        <Browser\n          feeds={feeds}\n          deleteUrl={this.deleteUrl}\n          play={this.playAudio}\n          refresh={this.refresh}\n          addFeed={url => this.addFeed(url).then(this.saveFeeds)}\n          returnFocus={this.dashboard}\n          settings={() => this.setState({settingsOpen: true})}\n          logout={this.props.handleSignOut}\n        />\n        <PlayingImage playing={playing}/>\n        <Player\n          url={playing?.episode.enclosure.url}\n          setTime={time => this.setState({time})}\n          ref={ref => this.player = ref}\n          settings={this.state.settings}\n        />\n        <PlayingInfo\n          playing={playing}\n          tags={this.getTags()}\n          seek={(time) => this.player?.seek(time)}\n          deleteTag={this.deleteTag}\n        />\n      </div>\n    );\n  }\n\n  handleKey(e) {\n    // No side effects such inserting a 't' into tagentry\n    e.preventDefault();\n\n    let settings = this.state.settings;\n\n    if (e.key === settings.toggle) {\n      this.player.toggle();\n    }\n\n    if (e.key === settings.seekBackwards) {\n      this.player.seekBackwards();\n    }\n\n    if (e.key === settings.seekForwards) {\n      this.player.seekForwards();\n    }\n\n    if (e.key === settings.enterTag) {\n      this.tagentry.input.focus();\n    }\n  }\n\n  async refresh() {\n    await Promise.all(Object.keys(this.state.feeds).map(this.addFeed));\n    this.saveFeeds();\n  }\n\n  playingString() {\n    let playing = this.state.playing;\n\n    if (!playing) {\n      return '';\n    } else {\n      let url = playing.feedUrl;\n      let guid = playing.episode.guid;\n\n      return `${url}:${guid}`;\n    }\n  }\n\n  getTags() {\n    let tags = this.state.tags;\n    let string = this.playingString();\n\n    if (string && string in tags) {\n      return tags[string];\n    } else {\n      return [];\n    }\n  }\n\n  deleteTag(id) {\n    let string = this.playingString();\n\n    if (string) {\n      let newTags = update(\n        this.state.tags,\n        // $unset uses the delete keyword on arrays which is bad :^(\n        {[string]: {$splice: [[id, 1]]}}\n      );\n      this.setState({tags: newTags}, this.saveTags);\n    }\n  }\n\n  addTag(tag) {\n    let string = this.playingString();\n\n    if (!string) {\n      return;\n    }\n\n    let tags = update(\n      this.state.tags,\n      {\n        [string]: tags => update(tags || [], { $push: [{'text': tag, 'time': this.player.time()}] })\n      }\n    );\n\n    this.setState({tags}, this.saveTags);\n  }\n\n  deleteUrl(url) {\n    let feeds = update(\n      this.state.feeds,\n      {$unset: [url]}\n    );\n\n    this.setState({feeds}, this.saveFeeds);\n\n  }\n\n  playAudio(episode, feedUrl) {\n    this.setState({playing: {'episode': episode, 'feed': this.state.feeds[feedUrl].data, 'feedUrl': feedUrl}});\n  }\n\n  clearFeeds() {\n    this.setState({feeds: {}}, this.saveFeeds);\n  }\n\n  async addFeed(url) {\n    return requestPodcast(this.state.settings.corsProxy, url)\n      .then(data => {\n        let feeds = update(\n          this.state.feeds,\n          { $merge: {[url]: {time: Date.now(), data}} }\n        );\n        return this.setState({feeds});\n      });\n  }\n\n  saveFeeds() {\n    saveData(this.props.userSession, FEEDS_FILENAME, this.state.feeds);\n  }\n\n  saveTags() {\n    saveData(this.props.userSession, TAGS_FILENAME, this.state.tags);\n  }\n\n  componentDidMount() {\n    loadData(this.props.userSession, FEEDS_FILENAME)\n      .then(feeds => this.setState({feeds}));\n\n    loadData(this.props.userSession, TAGS_FILENAME)\n      .then(tags => this.setState({tags}));\n  }\n}\n","import React, { Component } from 'react';\n\nimport {Headphones, LogIn} from 'react-feather';\n\nexport default class Signin extends Component {\n\n  render() {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className=\"signin-outer\">\n        <div className=\"signin\">\n          <Headphones size=\"150px\" />\n          <h1>Log in with Blockstack:</h1>\n          <button\n            className=\"signin-button\"\n            onClick={ handleSignIn.bind(this) }\n          >\n            <LogIn/><p>Sign up/Log in</p>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport Dashboard from './Dashboard.js';\nimport Signin from './Signin.js';\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\n\nimport './styling/layout.scss';\nimport './styling/styling.scss';\nimport * as moment from 'moment';\nimport 'moment/min/locales';\n\n//todo: settings\n//todo: mobile\n//todo: autotagging\n//todo: open episode save/load\n//todo: testing\n\nconst appConfig = new AppConfig();\nconst userSession = new UserSession({ appConfig: appConfig });\n// set locale\nmoment.locale(window.navigator.userLanguage || window.navigator.language);\n\n\nclass App extends Component {\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    if (userSession.isUserSignedIn()) {\n      return <Dashboard userSession={userSession} handleSignOut={this.handleSignOut} />;\n    } else {\n      return <Signin handleSignIn={this.handleSignIn} />;\n    }\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}
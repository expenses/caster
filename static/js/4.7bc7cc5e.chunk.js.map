{"version":3,"sources":["Dashboard/utils.tsx","Dashboard/Player.tsx","Dashboard/SideNavItem.tsx","Dashboard/types.tsx","Dashboard/SideNav.tsx","Dashboard/views/EpisodeView.tsx","Dashboard/TextEntry.tsx","Dashboard/Item.tsx","Dashboard/FeedItem.tsx","Dashboard/views/FeedsView.tsx","Dashboard/EpisodeItem.tsx","Dashboard/views/FeedView.tsx","Dashboard/views/SearchView.tsx","Dashboard/views/SettingsView.tsx","Dashboard/index.tsx"],"names":["options","fields","meta","episodes","required","requestPodcast","proxy","url","a","console","log","combined","endsWith","getPodcastFromURL","saveData","userSession","filename","data","putFile","JSON","stringify","loadData","getFile","then","content","ArrayBuffer","parse","episodeImage","ref","feeds","episode","imageURL","feedUrl","timestamp","secs","hours","Math","floor","minutes","seconds","pad","value","toString","padStart","PlayerBar","props","time","duration","percentage","className","style","width","Player","this","playing","updatePlaying","endPlaying","seekAmount","settings","paused","epRef","src","alt","title","playerButton","onClick","seek","type","min","max","step","onChange","e","target","dangerouslySetInnerHTML","__html","description","enclosure","undefined","listenInterval","onListen","onLoad","audio","setDuration","onEnded","relative","Component","SideNavItem","icon","text","View","SideNav","open","openSettings","openHome","openFeed","openSearch","changeState","signOut","isOpen","customBurgerIcon","onStateChange","state","Object","entries","map","feed","key","preventDefault","stopPropagation","DEFAULT_SETTINGS","corsProxy","toggle","seekBackwards","seekForwards","EpisodeView","player","playingDuration","same","size","button","playEpisode","TextEntry","entered","defaultValue","handleKey","bind","setState","onKeyDown","placeholder","callback","Item","image","body","icons","FeedItem","deleteFeed","length","moment","fromNow","FeedsView","addFeed","keys","EpisodeItem","openEpisode","pubDate","format","FeedView","guid","PureComponent","SearchView","searchTerm","flatMap","episodeTitle","episodeDescription","renderedEpisodes","fuzzysort","go","limit","threshold","result","obj","SettingsView","updateSettings","href","pattern","updateProxy","isUrl","fixCharacter","updateCharacter","string","character","valid","characters","toLowerCase","border","Dashboard","saveTimer","view","Feeds","viewing","sidenavOpen","refresh","savePlaying","keyName","_key","_handle","Viewing","Settings","Search","inner","_prevProps","prevState","statePlaying","setInterval","clearInterval","updates","update","$merge","saveSettings","error","Promise","all","saveFeeds","$unset","Date","now"],"mappings":"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","file":"static/js/4.7bc7cc5e.chunk.js","sourcesContent":["import {UserSession} from 'blockstack';\nimport {getPodcastFromURL} from 'podcast-feed-parser';\nimport {EpisodeReference, Feed, Feeds} from './types';\n\n// https://github.com/jbierfeldt/podcast-feed-parser/blob/master/index.js#L17\nconst options = {\n  fields: {\n    meta: ['title', 'description', 'imageURL'],\n    episodes: ['title', 'description', 'imageURL', 'pubDate', 'enclosure', 'duration', 'guid']\n  },\n\n  required: {\n    meta: ['title', 'description'],\n    episodes: []\n  }\n};\n\nexport async function requestPodcast(proxy: string, url: string): Promise<Feed> {\n  console.log(`Requesting '${url}' via '${proxy}'`);\n  const combined = proxy.endsWith('/') ? proxy + url : `${proxy}/${url}`;\n  return getPodcastFromURL(combined, options);\n}\n\nexport function saveData<T>(userSession: UserSession, filename: string, data: T): Promise<string> {\n  return userSession.putFile(filename, JSON.stringify(data), {});\n}\n\nexport async function loadData<T>(userSession: UserSession, filename: string): Promise<T> {\n  return userSession.getFile(filename, {})\n    .then(content => {\n      if (content instanceof ArrayBuffer) {\n        // todo: error\n        return {};\n      }\n      return JSON.parse(content) || {};\n    });\n}\n\nexport function episodeImage(ref: EpisodeReference, feeds: Feeds): string {\n  return ref.episode.imageURL || feeds[ref.feedUrl].data.meta.imageURL;\n}\n\nexport function timestamp(secs: number): string {\n  const hours = Math.floor(secs / 3600);\n  const minutes = Math.floor((secs - (hours * 3600)) / 60);\n  const seconds = Math.floor(secs % 60);\n\n  return `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;\n}\n\nfunction pad(value: number): string {\n  return value.toString().padStart(2, '0');\n}\n","import React, {Component, ReactElement} from 'react';\nimport ReactAudioPlayer from 'react-audio-player';\nimport {FastForward, Pause, Play, Rewind} from 'react-feather';\nimport {Feeds, Playing, Settings} from './types';\nimport {episodeImage, timestamp} from './utils';\n\nimport './Player.scss';\n\ninterface Props {\n  playing: Playing | undefined;\n  feeds: Feeds;\n  duration: number | undefined;\n  updatePlaying: (update: object) => void;\n  setDuration: (duration: number) => void;\n  endPlaying: () => void;\n  settings: Settings;\n}\n\nfunction PlayerBar(props: {time: number, duration: number | undefined}) {\n  let {time, duration} = props;\n  \n  let percentage = 0;\n\n  if (duration) {\n    const fraction = time / duration;\n    percentage = fraction * 100;\n  }\n\n  return (\n    <div className='player-bar'>\n      <div className='player-bar-inner'>\n        <div className='player-bar-progress' style={{width: `${percentage}%`}} />\n      </div>\n    </div>\n  );\n}\n\nexport default class Player extends Component<Props> {\n  render() {\n    const {playing, feeds, updatePlaying, duration, endPlaying} = this.props;\n    const {seekAmount} = this.props.settings;\n\n    // Eww\n    const paused = playing ? playing.paused : true;\n    const epRef = playing ? playing.epRef : null;\n    const episode = epRef ? epRef.episode : null;\n\n    return (\n      <div className='player'>\n        <PlayerBar time={this.time()} duration={duration}/>\n        <div className='player-image'>\n          {epRef ? <img src={episodeImage(epRef, this.props.feeds)} alt='' /> : null}\n        </div>\n        <div className='player-description'>\n          <div>\n            <p className=\"player-description-title\">\n              {episode ? episode.title : null}\n            </p>\n            <p>{epRef ? feeds[epRef.feedUrl].data.meta.title : null}</p>\n          </div>\n        </div>\n        <div className='player-button'>\n          {this.playerButton()}\n        </div>\n        <div className='desktop-player'>\n          <Rewind onClick={() => this.seek(-seekAmount)} />\n          {this.playerButton()}\n          <FastForward onClick={() => this.seek(+seekAmount)} />\n          <p>{timestamp(this.time())}</p>\n          <input\n            className='player-range-bar'\n            type='range'\n            min='0'\n            value={this.time()}\n            max={duration || 0}\n            step='any'\n            onChange={e => updatePlaying({time: e.target.value})}\n          />\n          <p>{timestamp(duration || 0)}</p>\n        </div>\n        <div className='desktop-player-description'>\n          <h2>{episode ? episode.title : null}</h2>\n          <h3>{epRef ? feeds[epRef.feedUrl].data.meta.title : null}</h3>\n          <p\n            dangerouslySetInnerHTML={{__html: episode ? episode.description : ''}}\n          />\n        </div>\n        <ReactAudioPlayer\n          time={this.time()}\n          playing={!paused}\n          src={episode ? episode.enclosure.url : undefined}\n          listenInterval={100}\n          onListen={(time: number) => this.props.updatePlaying({time})}\n          onLoad={audio => this.props.setDuration(audio.duration)}\n          onEnded={endPlaying}\n        />\n      </div>\n    );\n  }\n\n  seek(relative: number) {\n    const {playing, updatePlaying} = this.props;\n\n    if (playing) {\n      updatePlaying({time: playing.time + relative});\n    }\n  }\n\n  time(): number {\n    return this.props.playing ? this.props.playing.time : 0;\n  }\n\n  playerButton(): ReactElement | undefined {\n    const {playing, updatePlaying} = this.props;\n\n    if (playing) {\n      if (playing.paused) {\n        return <Play onClick={() => updatePlaying({paused: false})} />;\n      }\n      return <Pause onClick={() => updatePlaying({paused: true})} />;\n    }\n\n    return <Play />;\n  }\n}\n","import React, {MouseEvent, ReactElement} from 'react';\n\ninterface Props {\n  icon: ReactElement;\n  text: string;\n  onClick: (e: MouseEvent) => void;\n}\n\nexport default function SideNavItem(props: Props): ReactElement {\n  const {onClick, icon, text} = props;\n\n  return (\n    <div\n      onClick={onClick}\n      className='sidenav-item'\n    >\n      <div className='sidenav-icon'>\n        {icon}\n      </div>\n      <p>{text}</p>\n    </div>\n  );\n}\n","export interface FeedState {data: Feed; time: Date }\nexport type Feeds = Record<string, FeedState>;\n\nexport enum View {\n  Feeds = 'Feeds',\n  Settings = 'Settings',\n  Viewing = 'Viewing',\n  Search = 'Search',\n}\n\nexport interface EpisodeReference {\n  feedUrl: string;\n  episode: Episode;\n}\n\nexport interface Feed {\n  meta: {\n    title: string;\n    description: string;\n    imageURL: string;\n  };\n  episodes: Episode[];\n}\n\nexport interface Episode {\n  title: string;\n  description: string;\n  pubDate: string;\n  enclosure: {\n    length: number;\n    type: string;\n    url: string;\n  };\n  guid: string;\n  duration: string | null;\n  imageURL: string | null;\n}\n\nexport interface Playing {\n  epRef: EpisodeReference;\n  time: number;\n  paused: boolean;\n}\n\nexport interface Settings {\n  corsProxy: string;\n  toggle: string;\n  seekBackwards: string;\n  seekForwards: string;\n  seekAmount: number;\n}\n\nexport const DEFAULT_SETTINGS = {\n  corsProxy: 'https://caster-cors-proxy.herokuapp.com',\n  toggle: 'p',\n  seekBackwards: ',',\n  seekForwards: '.',\n  seekAmount: 5\n};\n","import React from 'react';\n\nimport { slide as Slide } from 'react-burger-menu';\nimport {Home, LogOut, Menu, Search, Settings} from 'react-feather';\nimport SideNavItem from './SideNavItem';\nimport {Feeds} from './types';\n\nimport './SideNav.scss';\n\ninterface Props {\n  open: boolean;\n  changeState: (open: boolean) => void;\n  feeds: Feeds;\n  openSettings: () => void;\n  openHome: () => void;\n  openFeed: (url: string) => void;\n  openSearch: () => void;\n  signOut: () => void;\n}\n\nexport default function SideNav(props: Props) {\n  const {\n    open, feeds, openSettings, openHome, openFeed, openSearch, changeState, signOut\n  } = props;\n\n  return (\n    <div className='menu-button'>\n      <Slide\n        isOpen={open}\n        customBurgerIcon={<Menu />}\n        onStateChange={state => changeState(state.isOpen)}\n      >\n        <SideNavItem icon={<Home />} text='Home' onClick={openHome} />\n        <SideNavItem icon={<Search />} text='Search' onClick={openSearch} />\n        {\n        Object.entries(feeds).map(([url, feed]) => (\n          <SideNavItem\n            key={url}\n            icon={<img src={feed.data.meta.imageURL} alt='' />}\n            text={feed.data.meta.title}\n            onClick={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              openFeed(url);\n            }}\n          />\n        ))\n      }\n        <SideNavItem icon={<Settings />} text='Settings' onClick={openSettings} />\n        <SideNavItem icon={<LogOut />} text='Sign Out' onClick={signOut} />\n      </Slide>\n    </div>\n  );\n}\n","import React, {Component, ReactElement} from 'react';\nimport {FastForward, Pause, Play, Rewind} from 'react-feather';\nimport {EpisodeReference, Feeds, Playing, Settings} from '../types';\nimport {episodeImage, timestamp} from '../utils';\n\nimport './EpisodeView.scss';\n\ninterface Props {\n  epRef: EpisodeReference;\n  feeds: Feeds;\n  playEpisode: (ref: EpisodeReference) => void;\n  playing: Playing | undefined;\n  playingDuration: number | undefined;\n  updatePlaying: (updates: object) => void;\n  settings: Settings;\n}\n\nexport default class EpisodeView extends Component<Props> {\n  render() {\n    const {epRef, feeds} = this.props;\n\n    return (\n      <div className='episode-view'>\n        <h1>{epRef.episode.title}</h1>\n        <h2>{feeds[epRef.feedUrl].data.meta.title}</h2>\n        <img src={episodeImage(epRef, feeds)} alt='' />\n        <p dangerouslySetInnerHTML={{__html: epRef.episode.description}} />\n        {this.player()}\n      </div>\n    );\n  }\n\n  player(): ReactElement {\n    const {epRef, updatePlaying, playingDuration} = this.props;\n    const same = this.props.playing ? this.props.playing.epRef === epRef : false;\n    const {seekAmount} = this.props.settings;\n\n    if (this.props.playing !== undefined && same) {\n      const {playing} = this.props;\n\n      return (\n        <div className='episode-player'>\n          <p>{timestamp(playing.time)}</p>\n          <Rewind onClick={() => updatePlaying({time: playing.time - seekAmount})} size='32px' />\n          {this.button()}\n          <FastForward onClick={() => updatePlaying({time: playing.time + seekAmount})} size='32px' />\n          <p>{timestamp(playingDuration || 0)}</p>\n        </div>\n      );\n    }\n    return (\n      <div className='episode-player'>\n        <Rewind size='32px' />\n        {this.button()}\n        <FastForward size='32px' />\n      </div>\n    );\n  }\n\n  button(): ReactElement {\n    const {playing, updatePlaying, playEpisode, epRef} = this.props;\n\n    if (playing !== undefined && playing.epRef === epRef) {\n      if (playing.paused) {\n        return <Play onClick={() => updatePlaying({paused: false})} size='36px' />;\n      }\n      return <Pause onClick={() => updatePlaying({paused: true})} size='36px' />;\n    }\n    return <Play onClick={() => playEpisode(epRef)} size='36px' />;\n  }\n}\n","import React, { Component, KeyboardEvent } from 'react';\n\ninterface Props {\n  defaultValue?: string;\n  className?: string;\n  placeholder?: string;\n  callback: (value: string) => void;\n}\n\nexport default class TextEntry extends Component<Props, {entered: string}> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {entered: props.defaultValue || ''};\n\n    this.handleKey = this.handleKey.bind(this);\n  }\n\n  render() {\n    return (\n      <input\n        type='text'\n        value={this.state.entered}\n        className={this.props.className}\n        onChange={e => this.setState({entered: e.target.value})}\n        onKeyDown={this.handleKey}\n        placeholder={this.props.placeholder}\n      />\n    );\n  }\n\n  handleKey(e: KeyboardEvent) {\n    e.stopPropagation();\n\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    const {entered} = this.state;\n\n    if (entered) {\n      this.setState({entered: ''});\n      this.props.callback(entered);\n    }\n  }\n}\n","import React, {ReactElement} from 'react';\nimport './Item.scss';\n\ninterface Props {\n  image: string;\n  title: string;\n  body: ReactElement | string;\n  onClick?: () => void;\n  icons?: ReactElement;\n  className?: string;\n}\n\nexport default function Item(props: Props) {\n  const {className, onClick, image, title, body, icons} = props;\n\n  return (\n    <div className={`item ${className}`} onClick={onClick}>\n      <div className='item-image'>\n        <img src={image} alt='' />\n      </div>\n      <div className='item-inner'>\n        <h2>{title}</h2>\n        {body}\n      </div>\n      <div className='item-icons'>\n        {icons}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {XCircle} from 'react-feather';\nimport moment from 'moment';\nimport {Feeds} from './types';\nimport Item from './Item';\n\ninterface Props {\n  feeds: Feeds;\n  url: string;\n  openFeed: (url: string) => void;\n  deleteFeed: (url: string) => void;\n}\n\nexport default function FeedItem(props: Props) {\n  const {feeds, url, openFeed, deleteFeed} = props;\n  const feed = feeds[url].data;\n\n  return (\n    <Item\n      title={feed.meta.title}\n      image={feed.meta.imageURL}\n      body={(\n        <>\n          <p>{feed.meta.description}</p>\n          <p>{feed.episodes.length} episodes</p>\n          <p>Last refreshed {moment(feeds[url].time).fromNow()}</p>\n        </>\n    )}\n      onClick={() => openFeed(url)}\n      icons={(\n        <XCircle onClick={e => {\n          e.stopPropagation();\n          deleteFeed(url);\n        }}\n        />\n    )}\n    />\n  );\n}\n","import React from 'react';\n// import {Plus} from 'react-feather';\nimport TextEntry from '../TextEntry';\nimport {Feeds} from '../types';\nimport FeedItem from '../FeedItem';\n\nimport './FeedsView.scss';\n\ninterface Props {\n  feeds: Feeds;\n  openFeed: (url: string) => void;\n  addFeed: (url: string) => void;\n  deleteFeed: (url: string) => void;\n}\n\nexport default function FeedsView(props: Props) {\n  const {feeds, openFeed, addFeed, deleteFeed} = props;\n\n  return (\n    <>\n      {\n        Object.keys(feeds)\n          .map(url => (\n            <FeedItem\n              key={url}\n              url={url}\n              feeds={feeds}\n              openFeed={openFeed}\n              deleteFeed={deleteFeed}\n            />\n          ))\n      }\n      <div className='add-feed'>\n        <TextEntry placeholder='Podcast Feed URL' callback={addFeed} />\n        {/* <div className='add-feed-button' onClick={addFeed}><Plus /></div> */}\n      </div>\n    </>\n  );\n}\n","import moment from 'moment';\nimport React from 'react';\nimport {MoreHorizontal, Play} from 'react-feather';\nimport Item from './Item';\nimport {EpisodeReference, Feeds} from './types';\nimport {episodeImage} from './utils';\n\ninterface Props {\n  episode: EpisodeReference;\n  feeds: Feeds;\n  openEpisode: (ref: EpisodeReference) => void;\n  playEpisode: (ref: EpisodeReference) => void;\n}\n\nexport default function EpisodeItem(props: Props) {\n  const {episode, feeds, openEpisode, playEpisode} = props;\n\n  return (\n    <Item\n      title={episode.episode.title}\n      image={episodeImage(episode, feeds)}\n      body={moment(episode.episode.pubDate).format('L LT')}\n      icons={(\n        <>\n          <Play onClick={() => playEpisode(episode)} />\n          <MoreHorizontal onClick={() => openEpisode(episode)} />\n        </>\n      )}\n      className='episode'\n    />\n  );\n}\n","import React, {PureComponent} from 'react';\n\nimport EpisodeItem from '../EpisodeItem';\nimport {EpisodeReference, Feeds} from '../types';\n\ninterface Props {\n  feeds: Feeds;\n  feedUrl: string;\n  openEpisode: (ref: EpisodeReference) => void;\n  playEpisode: (ref: EpisodeReference) => void;\n}\n\nexport default class FeedView extends PureComponent<Props> {\n  render() {\n    const {feeds, feedUrl, openEpisode, playEpisode} = this.props;\n\n    return feeds[feedUrl].data.episodes.map(episode => (\n      <EpisodeItem\n        key={episode.guid}\n        episode={{episode, feedUrl}}\n        feeds={feeds}\n        openEpisode={openEpisode}\n        playEpisode={playEpisode}\n      />\n    ));\n  }\n}\n","import fuzzysort from 'fuzzysort';\nimport React, {PureComponent} from 'react';\nimport {Search} from 'react-feather';\nimport EpisodeItem from '../EpisodeItem';\nimport {EpisodeReference, Feeds} from '../types';\n\nimport './SearchView.scss';\n\ninterface Props {\n  feeds: Feeds;\n  openEpisode: (ref: EpisodeReference) => void;\n  playEpisode: (ref: EpisodeReference) => void;\n}\n\ninterface State {\n  searchTerm: string;\n}\n\nexport default class SearchView extends PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      searchTerm: ''\n    };\n  }\n\n  render() {\n    const {feeds} = this.props;\n\n    const episodes = Object.keys(feeds)\n      .flatMap(feedUrl => feeds[feedUrl].data.episodes.map(episode => ({\n        ref: {episode, feedUrl},\n        episodeTitle: episode.title,\n        episodeDescription: episode.description\n      })));\n\n    const options = {\n      limit: 50,\n      keys: ['episodeTitle', 'episodeDescription'],\n      threshold: -500\n    };\n\n    const renderedEpisodes = fuzzysort.go(this.state.searchTerm, episodes, options)\n      .map(result => (\n        <EpisodeItem\n          key={result.obj.ref.episode.guid}\n          episode={result.obj.ref}\n          feeds={feeds}\n          openEpisode={this.props.openEpisode}\n          playEpisode={this.props.playEpisode}\n        />\n      ));\n\n    return (\n      <div className='search'>\n        <div className='search-body'>\n          {renderedEpisodes.length ? renderedEpisodes : <h1>No Search Term Entered</h1>}\n        </div>\n        <div className='search-input'>\n          <Search />\n          <input\n            type='text'\n            placeholder='Search Term'\n            onChange={e => this.setState({searchTerm: e.target.value})}\n            value={this.state.searchTerm}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component, ReactElement} from 'react';\nimport {RotateCcw} from 'react-feather';\n\nimport isUrl from 'is-url-superb';\nimport {DEFAULT_SETTINGS, Settings} from '../types';\n\n\nimport './SettingsView.scss';\n\ninterface Props {\n  settings: Settings;\n  updateSettings: (updates: object, valid: boolean) => void;\n}\n\nexport default class SettingsView extends Component<Props> {\n  render(): ReactElement {\n    const {settings, updateSettings} = this.props;\n    const {corsProxy, toggle, seekBackwards, seekForwards} = settings;\n\n    const helpUrl = 'https://devcenter.heroku.com/articles/getting-started-with-nodejs';\n    const defaultUrl = 'https://caster-cors-proxy.herokuapp.com';\n    const corsAnywhere = 'https://caster-cors-proxy.herokuapp.com';\n\n    return (\n      <div className='settings'>\n        <p>Many websites do not allow you to request RSS feeds from inside a browser, so you need to use a proxy to access them. I've set up {defaultUrl} which you are totally free to use, but if you want to setup a proxy yourself you can follow <a href={helpUrl}>this guide</a> with the <a href={corsAnywhere}>CORS Anywhere</a>.</p>\n        <label>CORS Proxy:</label>\n        <input\n          type='url'\n          pattern='https?://.*'\n          value={corsProxy}\n          onChange={e => this.updateProxy(e.target.value)}\n          style={style(isUrl(corsProxy))}\n        />\n        <label>Pause/Play Toggle:</label>\n        <input\n          type='text'\n          value={toggle}\n          style={style(fixCharacter(toggle)[1])}\n          onChange={e => this.updateCharacter('toggle', e.target.value)}\n        />\n        <label>Seek Backwards:</label>\n        <input\n          type='text'\n          value={seekBackwards}\n          style={style(fixCharacter(seekBackwards)[1])}\n          onChange={e => this.updateCharacter('seekBackwards', e.target.value)}\n        />\n        <label>Seek Forwards:</label>\n        <input\n          type='text'\n          value={seekForwards}\n          style={style(fixCharacter(seekForwards)[1])}\n          onChange={e => this.updateCharacter('seekForwards', e.target.value)}\n        />\n        <button\n          type='reset'\n          onClick={() => updateSettings(DEFAULT_SETTINGS, true)}\n        >\n          <RotateCcw />\n        Reset\n        </button>\n      </div>\n    );\n  }\n\n  updateProxy(url: string) {\n    this.props.updateSettings({corsProxy: url}, isUrl(url));\n  }\n\n  updateCharacter(key: string, string: string) {\n    const [character, valid] = fixCharacter(string);\n    this.props.updateSettings({[key]: character}, valid);\n  }\n}\n\nfunction fixCharacter(characters: string): [string, boolean] {\n  if (characters.length > 0) {\n    return [characters[characters.length - 1].toLowerCase(), true];\n  }\n  return ['', false];\n}\n\nfunction style(valid: boolean): {border: string} {\n  return {\n    border: `1px solid ${valid ? 'green' : 'red'}`\n  };\n}\n","import {UserSession} from 'blockstack';\nimport update from 'immutability-helper';\nimport React, {Component, ReactElement} from 'react';\nimport {RefreshCw} from 'react-feather';\nimport { Textfit } from 'react-textfit';\nimport Hotkeys from 'react-hot-keys';\n\nimport Player from './Player';\nimport SideNav from './SideNav';\nimport {DEFAULT_SETTINGS, EpisodeReference, Feeds, Playing, Settings, View} from './types';\nimport {loadData, requestPodcast, saveData} from './utils';\nimport EpisodeView from './views/EpisodeView';\nimport FeedsView from './views/FeedsView';\nimport FeedView from './views/FeedView';\nimport SearchView from './views/SearchView';\nimport SettingsView from './views/SettingsView';\n\nimport './Dashboard.scss';\n\nconst FEEDS_FILENAME = 'feeds.json';\nconst SETTINGS_FILENAME = 'settings.json';\nconst PLAYING_FILENAME = 'playing.json';\n\ninterface Props {\n  userSession: UserSession;\n  signOut: () => (void);\n}\n\ninterface State {\n  feeds: Feeds;\n  view: View;\n  playing: Playing | undefined;\n  playingDuration: number | undefined;\n  viewing: string | EpisodeReference | undefined;\n  settings: Settings;\n  sidenavOpen: boolean;\n}\n\nexport default class Dashboard extends Component<Props, State> {\n  saveTimer: NodeJS.Timer | null = null;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      // Main State\n      feeds: {},\n      settings: DEFAULT_SETTINGS,\n      view: View.Feeds,\n      playing: undefined,\n      playingDuration: undefined,\n      viewing: undefined,\n      sidenavOpen: false\n    };\n\n    this.refresh = this.refresh.bind(this);\n    this.addFeed = this.addFeed.bind(this);\n    this.openEpisode = this.openEpisode.bind(this);\n    this.playEpisode = this.playEpisode.bind(this);\n    this.updatePlaying = this.updatePlaying.bind(this);\n    this.deleteFeed = this.deleteFeed.bind(this);\n    this.updateSettings = this.updateSettings.bind(this);\n    this.savePlaying = this.savePlaying.bind(this);\n  }\n\n  render() {\n    return (\n      <Hotkeys\n        keyName='*'\n        onKeyDown={(_key, e, _handle) => this.handleKey(e.key)}\n      >\n        <div className='dashboard'>\n          <div className='titlebar'>\n            <SideNav\n              open={this.state.sidenavOpen}\n              feeds={this.state.feeds}\n              openHome={() => this.setState({view: View.Feeds, sidenavOpen: false})}\n              openFeed={viewing => this.setState({view: View.Viewing, viewing, sidenavOpen: false})}\n              openSettings={() => this.setState({view: View.Settings, sidenavOpen: false})}\n              openSearch={() => this.setState({view: View.Search, sidenavOpen: false})}\n              changeState={open => this.setState({sidenavOpen: open})}\n              signOut={this.props.signOut}\n            />\n            <div className='title'>\n              <Textfit>\n                <p className='title-text'>{this.title()}</p>\n              </Textfit>\n            </div>\n            <div className='refresh-button'>\n              <RefreshCw onClick={this.refresh} />\n            </div>\n          </div>\n          <div className='main'>{this.inner()}</div>\n          <Player\n            playing={this.state.playing}\n            feeds={this.state.feeds}\n            duration={this.state.playingDuration}\n            updatePlaying={this.updatePlaying}\n            settings={this.state.settings}\n            setDuration={playingDuration => this.setState({playingDuration})}\n            endPlaying={() => this.updatePlaying({paused: true})}\n          />\n        </div>\n      </Hotkeys>\n    );\n  }\n\n  handleKey(key: string) {\n    const {playing, settings} = this.state;\n    const {toggle, seekBackwards, seekForwards, seekAmount} = settings;\n\n    if (playing) {\n      if (key === toggle) {\n        this.updatePlaying({paused: !playing.paused});\n      }\n\n      if (key === seekBackwards) {\n        this.updatePlaying({time: playing.time - seekAmount});\n      }\n\n      if (key === seekForwards) {\n        this.updatePlaying({time: playing.time + seekAmount});\n      }\n    }\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    const statePlaying = (state: State) => state.playing && !state.playing.paused;\n\n    if (!statePlaying(prevState) && statePlaying(this.state)) {\n      this.savePlaying();\n      this.saveTimer = setInterval(this.savePlaying, 60000);\n    }\n\n    if (statePlaying(prevState) && !statePlaying(this.state)) {\n      if (this.saveTimer) {\n        clearInterval(this.saveTimer);\n        this.saveTimer = null;\n      }\n\n      this.savePlaying();\n    }\n  }\n\n  updateSettings(updates: object, valid: boolean) {\n    this.setState(\n      {settings: update(this.state.settings, {$merge: updates})},\n      () => (valid ? this.saveSettings() : null)\n    );\n  }\n\n  updatePlaying(updates: object) {\n    if (this.state.playing === undefined) {\n      return;\n    }\n\n    this.setState(\n      {playing: update(this.state.playing, {$merge: updates})}\n    );\n  }\n\n  title(): string {\n    const {view, viewing, feeds} = this.state;\n\n    if (view === View.Feeds) {\n      return 'Podcasts';\n    } if (view === View.Settings) {\n      return 'Settings';\n    } if (view === View.Search) {\n      return 'Search';\n    } if (view === View.Viewing) {\n      if (typeof viewing === 'string') {\n        return feeds[viewing].data.meta.title;\n      } if (typeof viewing !== 'undefined') {\n        return viewing.episode.title;\n      }\n      console.error('View set to viewing but this.state.viewing is undefined');\n      return '';\n    }\n    console.log(`View ${view} not handled in title()`);\n    return '';\n  }\n\n  inner(): ReactElement | ReactElement[] {\n    const {feeds, view, playing, viewing, settings} = this.state;\n\n    if (view === View.Feeds) {\n      return (\n        <FeedsView\n          feeds={feeds}\n          openFeed={feed => this.setState({viewing: feed, view: View.Viewing})}\n          addFeed={this.addFeed}\n          deleteFeed={this.deleteFeed}\n        />\n      );\n    } if (view === View.Settings) {\n      return (\n        <SettingsView\n          settings={settings}\n          updateSettings={this.updateSettings}\n        />\n      );\n    } if (view === View.Viewing) {\n      if (typeof viewing === 'string') {\n        return (\n          <FeedView\n            feedUrl={viewing}\n            feeds={feeds}\n            openEpisode={this.openEpisode}\n            playEpisode={this.playEpisode}\n          />\n        );\n      } if (typeof viewing !== 'undefined') {\n        return (\n          <EpisodeView\n            epRef={viewing}\n            feeds={feeds}\n            playEpisode={this.playEpisode}\n            playing={playing}\n            playingDuration={this.state.playingDuration}\n            updatePlaying={this.updatePlaying}\n            settings={settings}\n          />\n        );\n      }\n      const error = 'View set to viewing but this.state.viewing is undefined';\n      console.error(error);\n      return <p>{error}</p>;\n    } if (view === View.Search) {\n      return (\n        <SearchView\n          feeds={this.state.feeds}\n          openEpisode={this.openEpisode}\n          playEpisode={this.playEpisode}\n        />\n      );\n    }\n    const error = `View ${view} not handled in inner()`;\n    console.error(error);\n    return <p>{error}</p>;\n  }\n\n  playEpisode(epRef: EpisodeReference) {\n    this.setState({playing: {epRef, time: 0, paused: false}});\n  }\n\n  async refresh() {\n    await Promise.all(Object.keys(this.state.feeds).map(this.addFeed));\n    this.saveFeeds();\n  }\n\n  deleteFeed(url: string) {\n    const feeds = update(\n      this.state.feeds,\n      {$unset: [url]}\n    );\n\n    this.setState({feeds}, this.saveFeeds);\n  }\n\n  openEpisode(viewing: EpisodeReference) {\n    this.setState({viewing, view: View.Viewing});\n  }\n\n  clearFeeds() {\n    this.setState({feeds: {}}, this.saveFeeds);\n  }\n\n  async addFeed(url: string) {\n    return requestPodcast(this.state.settings.corsProxy, url)\n      .then(data => {\n        const feeds = update(\n          this.state.feeds,\n          { $merge: {[url]: {time: Date.now(), data}} }\n        );\n        return this.setState({feeds});\n      })\n      .then(() => this.saveFeeds());\n  }\n\n  saveFeeds() {\n    saveData(this.props.userSession, FEEDS_FILENAME, this.state.feeds);\n  }\n\n  saveSettings() {\n    saveData(this.props.userSession, SETTINGS_FILENAME, this.state.settings);\n  }\n\n  savePlaying() {\n    saveData(this.props.userSession, PLAYING_FILENAME, this.state.playing);\n  }\n\n  componentDidMount() {\n    const {userSession} = this.props;\n\n    loadData<Feeds>(userSession, FEEDS_FILENAME)\n      .then(feeds => this.setState({feeds}))\n      .then(() => loadData<Playing | undefined>(userSession, PLAYING_FILENAME))\n      .then(playing => this.setState({playing}));\n\n    loadData<Settings>(userSession, SETTINGS_FILENAME)\n      .then(settings => this.setState({\n        // Merge in settings (convenient because it allows me to update whats in settings)\n        settings: update(this.state.settings, {$merge: settings})\n      }));\n  }\n}\n"],"sourceRoot":""}